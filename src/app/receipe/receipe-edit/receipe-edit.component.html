<form [formGroup]="receipeForm" (ngSubmit)="onSubmit()">

    <div class="mt-2">
        <button type="submit" class="btn btn-success" [disabled]="!receipeForm.valid">Save</button>
        <button type="button" class="btn btn-danger ml-2" (click)="resetForm()">Cancel</button>
    </div>
   

    <div class="form-group mt-2" >
        <label for="name">Name: </label>
        <input
            type="text"
            class="form-control"
            formControlName="name"
            id="name"

        >
    </div>

    <div class="form-group mt-2">
        <label for="imagePath">Image Url: </label>
        <input
            type="text"
            class="form-control"
            id="imagePath"
            formControlName="imagePath"
        >
    </div>

    <div class="form-group">
        <img [src] = "receipeForm.value['imagePath']" class="img-responsive img-height" >
    </div>

    <div class="form-group mt-2">
        <label for="imagePath">Description: </label>
        <textarea
            type="text"
            class="form-control"
            id="description"
            row="6"
            formControlName="description"

        >

        </textarea>
    </div>

    <div class="form-group mt-2" [formArrayName]="'ingredients'">
        <div class="row" 
            *ngFor="let ingredientCtrl of controls;let i = index"
            [formGroupName]="i"
            style="margin-top: 10px"
            >
            <div class="col-6">
                <input
                    type="text"
                    class="form-control"
                    formControlName="name"
                >
            </div>
            <div class="col-2">
                <input
                    type="number"
                    class="form-control"
                    formControlName="amount"
                >
            </div>

            <div class="col-2">
                <button class="btn btn-danger" type="button" (click)="deleteIngredient(i)">X</button>
            </div>
        </div>
        <hr>
        <button class="btn btn-success mt-2" type="button" (click)="addIngredient()">Add Ingredient</button>
    </div>

</form>